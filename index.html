<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calcular Evolução Rodrigo</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body onload="mostrarHistorico(),somar(),adicionarAoHistorico(diaSemana, pontuacao)">
  <header>
    <h1>Rodrigo Ferrari</h1>
    <nav>
      <a href="index.html">Rodrigo</a>
      <a href="pag-Alencar.html">Alencar</a>
      <a href="pag-Andry.html">Andriele</a>
      <a href="pag-vitoria.html">Vitória</a>
    </nav>
  </header>
  <section>
    <fieldset>
      <legend>Saúde Física e Mental</legend>
      <label for="atividadeFisica">Atividade Física? </label>
      <select name="atividadeFisica" id="atividadeFisica">
        <option class="verde" value="2">Mais de 30 min (2%)</option>
        <option class="amarelo" value="0">Até 30 min (0%)</option>
        <option class="vermelho" value="-2" selected>
          Não praticou (-2%)
        </option>
      </select>
      <label for="dormir">Dormiu quantas horas? </label>
      <select name="dormir" id="dormir">
        <option class="verde" value="1">7 a 8 horas (1%)</option>
        <option class="amarelo" value="0">6 horas (0%)</option>
        <option class="vermelho" value="-1" selected>
          - de 6 ou + de 8 horas (-1%)
        </option>
      </select>
      <label for="familia">Passou tempo de qualidade com sua família? </label>
      <select name="familia" id="familia">
        <option class="verde" value="2">Mais de 1 hora (2%)</option>
        <option class="amarelo" value="0">Até 1 hora (0%)</option>
        <option class="vermelho" value="-2" selected>
          Dia corrido (-1%)
        </option>
      </select>
      <label for="meditar">Praticou Meditação? </label>
      <select name="meditar" id="meditar">
        <option class="verde" value="1">Mais de 20 minutos (1%)</option>
        <option class="amarelo" value="0">Menos de 20 minutos (0%)</option>
        <option class="vermelho" value="-1" selected>
          Não Praticou (-1%)
        </option>
      </select>
    </fieldset>

    <fieldset>
      <legend>Desenvolvimento Espiritual</legend>
      <label for="biblia">Leu a Bíblia hoje?</label>
      <select name="biblia" id="biblia">
        <option class="verde" value="2">7 capítulos ou mais (2%)</option>
        <option class="amarelo" value="0">Até sete capítulos (0%)</option>
        <option class="vermelho" value="-2" selected>Não (-2%)</option>
      </select>
      <label for="cristo">Meditou em Cristo?</label>
      <select name="cristo" id="cristo">
        <option class="verde" value="1">
          Meditei e orei/congreguei (1%)
        </option>
        <option class="amarelo" value="0">Meditei alguns minutos (0%)</option>
        <option class="vermelho" value="-1" selected>
          Não meditei (-1%)
        </option>
      </select>
    </fieldset>
    <fieldset>
      <legend>Desenvolvimento Intelectual</legend>
      <label for="intelectual">Leu algum livro de evolução emocional,finanças, oratória ou
        afins?</label>
      <select name="intelectual" id="intelectual">
        <option class="verde" value="2">Mais de 20 páginas (2%)</option>
        <option class="amarelo1" value="1">De 10 a 20 páginas (1%)</option>
        <option class="amarelo" value="0">De 2 a 10 páginas (0%)</option>
        <option class="vermelho" value="-2" selected>
          Não leu nada (-2%)
        </option>
      </select>
    </fieldset>
    <fieldset>
      <legend>Desenvolvimento Profissional</legend>
      <label for="estudo">Estudou ou praticou hoje Inglês, Programação ou Edição?</label>
      <select name="estudo" id="estudo">
        <option class="verde" value="3" selected>
          Estudou/Praticou mais de 1 hora(3%)
        </option>
        <option class="amarelo" value="0">
          Estudou/Praticou até 1 hora (0%)
        </option>
        <option class="vermelho" value="-3" selected>Não (-3%)</option>
      </select>

      <label for="Boxe">Treinou Boxe?</label>
      <select name="Boxe" id="Boxe">
        <option class="verde" value="2">Mais de 40 min (2%)</option>
        <option class="amarelo" value="0">Até 40 min (0%)</option>
        <option class="vermelho" value="-2" selected>Não (-2%)</option>
      </select>
    </fieldset>
    <fieldset>
      <legend>Bons e Maus Hábitos</legend>

      <label for="comerFrutas">Comeu Frutas e Verduras? </label>
      <select name="comerFrutas" id="comerFrutas">
        <option class="amarelo" value="0" selected>Sim (0%)</option>
        <option class="vermelho" value="-1">Não (-1%)</option>
      </select>
      <label for="comerPorcaria">Comeu doces ou frituras em excesso? </label>
      <select name="comerPorcaria" id="comerPorcaria">
        <option class="vermelho" value="-1">Sim (-1%)</option>
        <option class="amarelo" value="0" selected>Não (0%)</option>
      </select>
      <label for="beberAgua">Bebeu quanto de água hoje? </label>
      <select name="beberAgua" id="beberAgua">
        <option class="amarelo" value="0" selected>
          Mais de 2 litros (0%)
        </option>
        <option class="vermelho" value="-1">Menos de 2 litros (-1%)</option>
      </select>
      <label for="organizaçao">Manteve a casa organizada? </label>
      <select name="organizaçao" id="organizaçao">
        <option class="amarelo" value="0" selected>Sim (0%)</option>
        <option class="vermelho" value="-1">Não (-1%)</option>
      </select>

      <label for="celular">Perdeu tempo nas redes sociais ou outras atividades procastinadoras?
      </label>
      <select name="celular" id="celular">
        <option class="vermelho" value="-2">Sim (-2%)</option>
        <option class="amarelo" value="0" selected>Não (0%)</option>
      </select>
      <label for="cafe">Bebeu café depois das 14:00? </label>
      <select name="cafe" id="cafe">
        <option class="vermelho" value="-2">Sim (-2%)</option>
        <option class="amarelo" value="0" selected>Não (0%)</option>
      </select>
      <label for="alcool">Bebeu excesso de álcool ou fumou? </label>
      <select name="alcool" id="alcool">
        <option class="vermelho" value="-5">Sim (-5%)</option>
        <option class="amarelo" value="0" selected>Não (0%)</option>
      </select>
    </fieldset>
  </section>

  <div id="calc">
    <input type="button" value="Calcular" onclick="calcular()">
    <label for="diaSemana"></label>
    <select name="diaSemana" id="diaSemana">
      <option value="Domingo">Domingo</option>
      <option value="Segunda">Segunda</option>
      <option value="Terça">Terça</option>
      <option value="Quarta">Quarta</option>
      <option   value="Quinta">Quinta</option>
      <option value="Sexta">Sexta</option>
      <option value="Sábado">Sábado</option>  

    </select>
    <div id="resultado"></div>
  </div>
  <div id="historicoRO"></div>
  <div id="total"></div>

  <script>

    let historicoCalculos = JSON.parse(localStorage.getItem('historicoRO')) || [];
    let pontuacao
    function calcular() {

      let diaSemana = document.getElementById("diaSemana").value;
      let comerFrutas = Number(document.getElementById("comerFrutas").value);
      let comerPorcaria = Number(
        document.getElementById("comerPorcaria").value
      );
      let beberAgua = Number(document.getElementById("beberAgua").value);
      let atividadeFisica;
      let organizacao = Number(document.getElementById("organizaçao").value);
      let dormir = Number(document.getElementById("dormir").value);
      let familia = Number(document.getElementById("familia").value);
      let meditar = Number(document.getElementById("meditar").value);
      let celular = Number(document.getElementById("celular").value);
      let cafe = Number(document.getElementById("cafe").value);
      let alcool = Number(document.getElementById("alcool").value);
      let biblia = Number(document.getElementById("biblia").value);
      let cristo = Number(document.getElementById("cristo").value);
      let intelectual = Number(document.getElementById("intelectual").value);
      let estudo = Number(document.getElementById("estudo").value);
      let boxe = Number(document.getElementById("Boxe").value);

      if (boxe === 2 || boxe === -2) {
        atividadeFisica = 0;
      } else {
        atividadeFisica = Number(
          document.getElementById("atividadeFisica").value
        );
      }

      let resultado = document.getElementById("resultado");
      pontuacao =
        comerFrutas +
        comerPorcaria +
        beberAgua +
        atividadeFisica +
        dormir +
        familia +
        meditar +
        celular +
        organizacao +
        cafe +
        alcool +
        biblia +
        cristo +
        intelectual +
        estudo +
        boxe;
      resultado.innerHTML = pontuacao +
        "%"
      adicionarAoHistorico(diaSemana, pontuacao);
      mostrarHistorico();
      somar();
    }
    function adicionarAoHistorico(diaSemana, pontuacao) {
      const index = historicoCalculos.findIndex(calculo => calculo.diaSemana === diaSemana);
      if (index > -1) {
        historicoCalculos[index] = { diaSemana, pontuacao }; // Sobrescreve se já existe
      } else {
        historicoCalculos.push({ diaSemana, pontuacao }); // Adiciona se não existe
      }
      localStorage.setItem('historicoRO', JSON.stringify(historicoCalculos));
    }
    function mostrarHistorico() {
      const historicoDiv = document.getElementById('historicoRO');
      historicoDiv.innerHTML = ''; // Limpa o histórico anterior

      const diasSemana = ["Domingo", "Segunda", "Terça", "Quarta", "Quinta", "Sexta", "Sábado"];

      diasSemana.forEach(dia => {
        const calculo = historicoCalculos.find(item => item.diaSemana === dia);
        const pontuacao = calculo ? calculo.pontuacao : 0; // Se não houver cálculo, usa 0

        const itemHistorico = document.createElement('p');
        itemHistorico.innerHTML = `${dia}: ${pontuacao}% `;
        historicoDiv.appendChild(itemHistorico);
      });
    }
    /*function mostrarHistorico() {
       const historicoDiv = document.getElementById('historicoRO');
       historicoDiv.innerHTML = '';
 
       historicoCalculos.forEach((calculo, index) => {
         const itemHistorico = document.createElement('p');
         itemHistorico.innerHTML = `${calculo.diaSemana}: ${calculo.pontuacao}% 
         <button onclick="apagarCalculo(${index})">Apagar</button>`;
         historicoDiv.appendChild(itemHistorico);
       });
     }*/
    function somar() {
      const diasSemana = ["Domingo", "Segunda", "Terça", "Quarta", "Quinta", "Sexta", "Sábado"];
      let totalPontuacao = 0;

      diasSemana.forEach(dia => {
        const calculo = historicoCalculos.find(item => item.diaSemana === dia);
        totalPontuacao += calculo ? calculo.pontuacao : 0; // Se não houver cálculo para o dia, considera 0
      });

      if (totalPontuacao >= 0) {
        totalPontuacao += 2;
      } else {
        totalPontuacao -= 2;
      }

      const totalDiv = document.getElementById("total");
      totalDiv.innerHTML = `Nota de Desenvolvimento: ${totalPontuacao}%`;
    }


  </script>
</body>

</html>