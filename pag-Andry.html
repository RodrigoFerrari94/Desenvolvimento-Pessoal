<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calcular Evolução Andriele</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body
    onload="mostrarHistorico(),somar(),adicionarAoHistorico(diaSemana, pontuacao)"
  >
    <header>
      <h1>Andriele</h1>
      <nav>
        <a href="index.html">Rodrigo</a>
        <a href="pag-Alencar.html">Alencar</a>
        <a href="pag-Andry.html">Andriele</a>
        <a href="pag-vitoria.html">Vitória</a>
      </nav>
    </header>
    <section>
      <fieldset>
        <legend>Saúde Física e Mental</legend>
        <label for="atividadeFisica">Atividade Física? </label>
        <select name="atividadeFisica" id="atividadeFisica">
          <option class="verde" value="2">Treinou (2%)</option>
          <option class="amarelo" value="0">Fez atividade física(0%)</option>
          <option class="verde" value="-2" selected>Treinou (-2%)</option>
        </select>

        <label for="dieta">Alimentação Saudável? </label>
        <select name="dieta" id="dieta">
          <option class="verde" value="2">Alimentação Balanceada (2%)</option>
          <option class="amarelo" value="0">
            Comeu só umas besterinhas (0%)
          </option>
          <option class="vermelho" value="-2" selected>
            Se alimentou muito mal (-2%)
          </option>
        </select>

        <label for="meditar">Praticou Meditação? </label>
        <select name="meditar" id="meditar">
          <option class="verde" value="1">Mais de 5 minutos (1%)</option>
          <option class="amarelo" value="0">Até 5 minutos (0%)</option>
          <option class="vermelho" value="-1" selected>
            Não Praticou (-1%)
          </option>
        </select>
      </fieldset>

      <fieldset>
        <legend>Desenvolvimento Espiritual</legend>
        <label for="biblia">Leu a Bíblia hoje?</label>
        <select name="biblia" id="biblia">
          <option class="verde" value="2">1 capítulos ou mais (2%)</option>
          <option class="amarelo" value="0">Até 1 capítulos (0%)</option>
          <option class="vermelho" value="-2" selected>Não (-2%)</option>
        </select>
        <label for="cristo">Orou?</label>
        <select name="cristo" id="cristo">
          <option class="verde" value="2">
            Meditei e orei/congreguei (2%)
          </option>
          <option class="amarelo" value="0">Meditei alguns minutos (0%)</option>
          <option class="vermelho" value="-2" selected>
            Não meditei (-2%)
          </option>
        </select>
      </fieldset>
      <fieldset>
        <legend>Desenvolvimento Intelectual</legend>
        <label for="intelectual"
          >Leu algum livro de evolução emocional,finanças, oratória ou
          afins?</label
        >
        <select name="intelectual" id="intelectual">
          <option class="verde" value="2">Mais de 5 páginas (2%)</option>
          <option class="amarelo1" value="1">De 1 a 3 páginas (1%)</option>
          <option class="amarelo" value="0">até 1 página (0%)</option>
          <option class="vermelho" value="-2" selected>
            Não leu nada (-2%)
          </option>
        </select>
      </fieldset>
      <fieldset>
        <legend>Desenvolvimento Profissional</legend>
        <label for="posGraduacao">Estudou a Pós Graduação?</label>
        <select name="posGraduacao" id="posGraduacao">
          <option class="Verde" value="3">
            Estudou mais de 30 minutos (3%)
          </option>
          <option class="amarelo" value="0">
            Estudou/Praticou até 30 minutos (0%)
          </option>
          <option class="vermelho" value="-3" selected>Não (-3%)</option>
        </select>
      </fieldset>
      <fieldset>
        <legend>Bons e Maus Hábitos</legend>

        <label for="comerFrutas">Comeu Frutas e Verduras? </label>
        <select name="comerFrutas" id="comerFrutas">
          <option class="amarelo" value="0" selected>Sim (0%)</option>
          <option class="vermelho" value="-1">Não (-1%)</option>
        </select>
        <label for="comerPorcaria">Comeu doces ou frituras em excesso? </label>
        <select name="comerPorcaria" id="comerPorcaria">
          <option class="vermelho" value="-1">Sim (-1%)</option>
          <option class="amarelo" value="0" selected>Não (0%)</option>
        </select>
        <label for="beberAgua">Bebeu quanto de água hoje? </label>
        <select name="beberAgua" id="beberAgua">
          <option class="amarelo" value="0" selected>
            Mais de 2 litros (0%)
          </option>
          <option class="vermelho" value="-1">Menos de 2 litros (-1%)</option>
        </select>
        <label for="organizaçao">Manteve a casa organizada? </label>
        <select name="organizaçao" id="organizaçao">
          <option class="amarelo" value="0" selected>Sim (0%)</option>
          <option class="vermelho" value="-1">Não (-1%)</option>
        </select>

        <label for="celular"
          >Perdeu tempo nas redes sociais ou outras atividades procastinadoras?
        </label>
        <select name="celular" id="celular">
          <option class="vermelho" value="-2">Sim (-2%)</option>
          <option class="amarelo" value="0" selected>Não (0%)</option>
        </select>
        <label for="orar">Orou hoje? </label>
        <select name="orar" id="orar">
          <option class="vermelho" value="0" selected>Sim (0%)</option>
          <option class="amarelo" value="-2">Não (-2%)</option>
        </select>
      </fieldset>
    </section>
    <div id="calc">
      <input type="button" value="Calcular" onclick="calcular()" />
      <label for="diaSemana"></label>
      <select name="diaSemana" id="diaSemana">
        <option value="Domingo">Domingo</option>
        <option value="Segunda">Segunda</option>
        <option value="Terça">Terça</option>
        <option value="Quarta">Quarta</option>
        <option value="Quinta">Quinta</option>
        <option value="Sexta">Sexta</option>
        <option value="Sábado">Sábado</option>
         
      </select>
      <div id="resultado"></div>
    </div>
    <div id="historicoAND"></div>
    <div id="total"></div>

    <script>
      let historicoCalculos =
        JSON.parse(localStorage.getItem("historicoAND")) || [];
      let pontuacao;
      let total = documet.getElementById("total");
      function calcular() {
        let diaSemana = document.getElementById("diaSemana").value;
        let comerFrutas = Number(document.getElementById("comerFrutas").value);
        let comerPorcaria = Number(
          document.getElementById("comerPorcaria").value
        );
        let beberAgua = Number(document.getElementById("beberAgua").value);
        let atividadeFisica = Number(
          document.getElementById("atividadeFisica").value
        );
        let organizacao = Number(document.getElementById("organizaçao").value);

        let meditar = Number(document.getElementById("meditar").value);
        let celular = Number(document.getElementById("celular").value);
        let orar = Number(document.getElementById("orar").value);

        let biblia = Number(document.getElementById("biblia").value);
        let cristo = Number(document.getElementById("cristo").value);
        let intelectual = Number(document.getElementById("intelectual").value);
        let posGraduacao = Number(
          document.getElementById("posGraduacao").value
        );
        let projeto = Number(document.getElementById("projeto").value);
        let redesSociais = Number(
          document.getElementById("redesSociais").value
        );
        let dieta;

        if (atividadeFisica === 2) {
          dieta = 0;
        } else {
          dieta = Number(document.getElementById("dieta").value);
        }

        let resultado = document.getElementById("resultado");
        pontuacao =
          comerFrutas +
          comerPorcaria +
          beberAgua +
          atividadeFisica +
          meditar +
          celular +
          organizacao +
          orar +
          biblia +
          cristo +
          intelectual +
          posGraduacao +
          redesSociais +
          dieta +
          projeto;
        resultado.innerHTML = pontuacao + "%";
        adicionarAoHistorico(diaSemana, pontuacao);
        mostrarHistorico();
        somar();
      }
      function adicionarAoHistorico(diaSemana, pontuacao) {
        const index = historicoCalculos.findIndex(
          (calculo) => calculo.diaSemana === diaSemana
        );
        if (index > -1) {
          historicoCalculos[index] = { diaSemana, pontuacao }; // Sobrescreve se já existe
        } else {
          historicoCalculos.push({ diaSemana, pontuacao }); // Adiciona se não existe
        }
        localStorage.setItem("historicoAND", JSON.stringify(historicoCalculos));
      }
      function mostrarHistorico() {
        const historicoDiv = document.getElementById("historicoAND");
        historicoDiv.innerHTML = ""; // Limpa o histórico anterior

        const diasSemana = [
          "Domingo",
          "Segunda",
          "Terça",
          "Quarta",
          "Quinta",
          "Sexta",
          "Sábado",
        ];

        diasSemana.forEach((dia) => {
          const calculo = historicoCalculos.find(
            (item) => item.diaSemana === dia
          );
          const pontuacao = calculo ? calculo.pontuacao : 0; // Se não houver cálculo, usa 0

          const itemHistorico = document.createElement("p");
          itemHistorico.innerHTML = `${dia}: ${pontuacao}% `;
          historicoDiv.appendChild(itemHistorico);
        });
      }
      /*function mostrarHistorico() {
       const historicoDiv = document.getElementById('historicoAND');
       historicoDiv.innerHTML = '';
 
       historicoCalculos.forEach((calculo, index) => {
         const itemHistorico = document.createElement('p');
         itemHistorico.innerHTML = `${calculo.diaSemana}: ${calculo.pontuacao}% 
         <button onclick="apagarCalculo(${index})">Apagar</button>`;
         historicoDiv.appendChild(itemHistorico);
       });
     }*/
      function somar() {
        const diasSemana = [
          "Domingo",
          "Segunda",
          "Terça",
          "Quarta",
          "Quinta",
          "Sexta",
          "Sábado",
        ];
        let totalPontuacao = 0;

        diasSemana.forEach((dia) => {
          const calculo = historicoCalculos.find(
            (item) => item.diaSemana === dia
          );
          totalPontuacao += calculo ? calculo.pontuacao : 0; // Se não houver cálculo para o dia, considera 0
        });

        if (totalPontuacao >= 0) {
          totalPontuacao += 2;
        } else {
          totalPontuacao -= 2;
        }

        const totalDiv = document.getElementById("total");
        totalDiv.innerHTML = `Nota de Desenvolvimento: ${totalPontuacao}%`;
      }
    </script>
  </body>
</html>
