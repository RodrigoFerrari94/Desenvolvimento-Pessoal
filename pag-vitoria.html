<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Calcular Evolução Rodrigo</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body onload="mostrarHistorico(),somar(),adicionarAoHistorico(diaSemana, pontuacao)">
  <header>
    <h1>Vitória Ferrari</h1>
    <nav>
      <a href="index.html">Rodrigo</a>
      <a href="pag-Alencar.html">Alencar</a>
      <a href="pag-Andry.html">Andriele</a>
      <a href="pag-vitoria.html">Vitória</a>
    </nav>
  </header>
  <section>
    <fieldset>
      <legend>Saúde Física e Mental</legend>
      <label for="atividadeFisica">Atividade Física? </label>
      <select name="atividadeFisica" id="atividadeFisica">
        <option class="verde" value="2">Treinou mais de 1h min(2%)</option>
        <option class="amarelo" value="0">Se exercitou alguns minutos (0%)</option>
        <option class="vermelho" value="-2" selected> Não fez atividade física (-2%)
        </option>
      </select>
      <label for="meditar">Praticou Meditação/se por em tédio </label>
      <select name="meditar" id="meditar">
        <option class="verde" value="1">Mais de 10 minutos (1%)</option>
        <option class="amarelo" value="0">Até 10 minutos (0%)</option>
        <option class="vermelho" value="-1" selected> Não (-1%)
        </option>
      </select>

      </select>
      <label for="familia">Passou tempo de qualidade com sua família? </label>
      <select name="familia" id="familia">
        <option class="verde" value="2">Mais de 1 hora (2%)</option>
        <option class="amarelo" value="0">Até 1 hora (0%)</option>
        <option class="vermelho" value="-2" selected>
          Não dediquei a família um tempo de qualidade (-2%)
        </option>
      </select>
    </fieldset>

    <fieldset>
      <legend>Desenvolvimento Espiritual</legend>
      <label for="biblia">Leu a Bíblia hoje?</label>
      <select name="biblia" id="biblia">
        <option class="verde" value="2">2 capítulos ou mais (2%)</option>
        <option class="amarelo" value="0">Até 2 capítulos (0%)</option>
        <option class="vermelho" value="-2" selected>Não (-2%)</option>
      </select>

       <select name="orar" id="orar">
        <option class="verde" value="1">orou (1%)</option>
        <option class="amarelo" value="0">agradeceu em família (0%)</option>
        <option class="vermelho" value="-1" selected>Não (-1%)</option>
      </select>

    </fieldset>
    <fieldset>
      <legend>Desenvolvimento Intelectual</legend>
      <label for="intelectual">Leu algum livro de evolução emocional,finanças, oratória ou
        afins?</label>

      <select name="intelectual" id="intelectual">
        <option class="verde" value="2">Mais de 5 páginas (2%)</option>
        <option class="amarelo1" value="1">De 3 a 5 páginas (1%)</option>
        <option class="amarelo" value="0">De 1 a 3 páginas (0%)</option>
        <option class="vermelho" value="-2" selected>
          Não leu nada (-2%)
        </option>
      </select>
    </fieldset>
    <fieldset>
      <legend>Desenvolvimento Profissional</legend>
      <label for="idioma">Estudou ou praticou algum idioma hoje?</label>
      <select name="idioma" id="idioma">
        <option class="verde" value="2" selected>
          Estudou/Praticou mais de 10 minutos (2%)
        </option>
        <option class="amarelo" value="0">
          Estudou/Praticou até 10 minutos (0%)
        </option>
        <option class="vermelho" value="-2" selected>Não (-2%)</option>
      </select>
      <label for="postou">Trabalhou nas redes hoje?</label>
      <select name="postou" id="postou">
        <option class="verde" value="1">Realizou todas tarefas planejadas para o dia (1%)</option>
        <option class="amarelo" value="0">Poucos Storys ou faltou alguma tarefa no dia (0%)</option>
        <option class="vermelho" value="-1" selected>Esqueceu as redes sociais hoje (-1%)</option>
      </select>



      <label for="projeto">Gestão e Produção de Eventos?</label>
      <select name="projeto" id="projeto">
        <option class="verde" value="1">Mais de 30 min (1%)</option>
        <option class="amarelo" value="0">Até 30 min (0%)</option>
        <option class="vermelho" value="-1" selected>Não (-1%)</option>
      </select>
    </fieldset>
    <fieldset>
      <legend>Bons e Maus Hábitos</legend>

      <label for="comerFrutas">Comeu Frutas e Verduras? </label>
      <select name="comerFrutas" id="comerFrutas">
        <option class="amarelo" value="0" selected>Sim (0%)</option>
        <option class="vermelho" value="-1">Não (-1%)</option>
      </select>
      <label for="comerPorcaria">Comeu doces ou frituras em excesso? </label>
      <select name="comerPorcaria" id="comerPorcaria">
        <option class="vermelho" value="-2">Sim (-2%)</option>
        <option class="amarelo" value="0" selected>Não (0%)</option>
      </select>
      <label for="beberAgua">Bebeu quanto de água hoje? </label>
      <select name="beberAgua" id="beberAgua">
        <option class="amarelo" value="0" selected>
          Mais de 2 litros (0%)
        </option>
        <option class="vermelho" value="-1">Menos de 2 litros (-1%)</option>
      </select>
      <label for="organizaçao">Manteve a casa organizada? </label>
      <select name="organizaçao" id="organizaçao">
        <option class="amarelo" value="0" selected>Sim (0%)</option>
        <option class="vermelho" value="-2">Não (-2%)</option>
      </select>

      <label for="celular">Perdeu tempo nas redes sociais ou outras atividades procastinadoras?
      </label>
      <select name="celular" id="celular">
        <option class="vermelho" value="-3">Sim (-3%)</option>
        <option class="amarelo" value="0" selected>Não (0%)</option>
      </select>

      <label for="alcool">Bebeu excesso de álcool ou fumou? </label>
      <select name="alcool" id="alcool">
        <option class="vermelho" value="-5">Sim (-5%)</option>
        <option class="amarelo" value="0" selected>Não (0%)</option>
      </select>
    </fieldset>
  </section>

  <div id="calc">
    <input type="button" value="Calcular" onclick="calcular()">
    <label for="diaSemana"></label>
    <select name="diaSemana" id="diaSemana">
      <option value="Domingo">Domingo</option>
      <option value="Segunda">Segunda</option>
      <option value="Terça">Terça</option>
      <option value="Quarta">Quarta</option>
      <option   value="Quinta">Quinta</option>
      <option value="Sexta">Sexta</option>
      <option value="Sábado">Sábado</option>  

    </select>
    <div id="resultado"></div>
  </div>
  <div id="historicoVI"></div>
  <div id="total"></div>

  <script>
    let historicoCalculos = JSON.parse(localStorage.getItem('historicoVI')) || [];
    let pontuacao
    let total = documet.getElementById("total");
    function calcular() {

      let diaSemana = document.getElementById("diaSemana").value;
      let comerFrutas = Number(document.getElementById("comerFrutas").value);
      let comerPorcaria = Number(
        document.getElementById("comerPorcaria").value
      );
      let beberAgua = Number(document.getElementById("beberAgua").value);
      let atividadeFisica = Number(
        document.getElementById("atividadeFisica").value
      );
      let organizacao = Number(document.getElementById("organizaçao").value);
      let familia = Number(document.getElementById("familia").value);
      let celular = Number(document.getElementById("celular").value);
      let alcool = Number(document.getElementById("alcool").value);
      let biblia = Number(document.getElementById("biblia").value);
      let orar = Number(document.getElementById("orar").value);
      let meditar = Number(document.getElementById("meditar").value);
      let intelectual = Number(document.getElementById("intelectual").value);
      let idioma = Number(document.getElementById("idioma").value);

      let postou = Number(document.getElementById("postou").value);
      let projeto = Number(document.getElementById("projeto").value);

      let resultado = document.getElementById("resultado");
      pontuacao =
        comerFrutas +
        comerPorcaria +
        beberAgua +
        atividadeFisica +
        familia +
        celular +
        organizacao +
        alcool +
        biblia +
        orar +
        meditar +
        intelectual +
        postou +
        idioma +
        projeto;
      resultado.innerHTML = pontuacao +
        "%"
      adicionarAoHistorico(diaSemana, pontuacao);
      mostrarHistorico();
      somar();
    }
    function adicionarAoHistorico(diaSemana, pontuacao) {
      const index = historicoCalculos.findIndex(calculo => calculo.diaSemana === diaSemana);
      if (index > -1) {
        historicoCalculos[index] = { diaSemana, pontuacao }; // Sobrescreve se já existe
      } else {
        historicoCalculos.push({ diaSemana, pontuacao }); // Adiciona se não existe
      }
      localStorage.setItem('historicoVI', JSON.stringify(historicoCalculos));
    }
    function mostrarHistorico() {
      const historicoDiv = document.getElementById('historicoVI');
      historicoDiv.innerHTML = ''; // Limpa o histórico anterior

      const diasSemana = ["Domingo", "Segunda", "Terça", "Quarta", "Quinta", "Sexta", "Sábado"];

      diasSemana.forEach(dia => {
        const calculo = historicoCalculos.find(item => item.diaSemana === dia);
        const pontuacao = calculo ? calculo.pontuacao : 0; // Se não houver cálculo, usa 0

        const itemHistorico = document.createElement('p');
        itemHistorico.innerHTML = `${dia}: ${pontuacao}% `;
        historicoDiv.appendChild(itemHistorico);
      });
    }
    /*function mostrarHistorico() {
       const historicoDiv = document.getElementById('historicoVI');
       historicoDiv.innerHTML = '';
 
       historicoCalculos.forEach((calculo, index) => {
         const itemHistorico = document.createElement('p');
         itemHistorico.innerHTML = `${calculo.diaSemana}: ${calculo.pontuacao}% 
         <button onclick="apagarCalculo(${index})">Apagar</button>`;
         historicoDiv.appendChild(itemHistorico);
       });
     }*/
    function somar() {
      const diasSemana = ["Domingo", "Segunda", "Terça", "Quarta", "Quinta", "Sexta", "Sábado"];
      let totalPontuacao = 0;

      diasSemana.forEach(dia => {
        const calculo = historicoCalculos.find(item => item.diaSemana === dia);
        totalPontuacao += calculo ? calculo.pontuacao : 0; // Se não houver cálculo para o dia, considera 0
      });

      if (totalPontuacao >= 0) {
        totalPontuacao += 2;
      } else {
        totalPontuacao -= 2;
      }

      const totalDiv = document.getElementById("total");
      totalDiv.innerHTML = `Nota de Desenvolvimento: ${totalPontuacao}%`;
    }

  </script>
</body>

</html>